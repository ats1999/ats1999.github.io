3:I[9275,[],""]
5:I[1343,[],""]
6:I[4080,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],""]
7:I[4858,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"ThemeProvider"]
8:I[9736,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"TooltipProvider"]
9:I[6691,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"Dock"]
a:I[6691,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"DockIcon"]
b:I[9736,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"Tooltip"]
c:I[9736,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"TooltipTrigger"]
d:I[231,["963","static/chunks/963-f5367169344de934.js","404","static/chunks/app/blog/page-8e9b2547eae30be8.js"],""]
e:I[9736,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"TooltipContent"]
f:I[9973,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"Separator"]
11:I[7363,["310","static/chunks/0e5ce63c-e21fe8bbb1ba0e0f.js","963","static/chunks/963-f5367169344de934.js","742","static/chunks/742-864a4315a5f078b5.js","306","static/chunks/306-c999c55080bca6ef.js","185","static/chunks/app/layout-0dad2f1652ca5eba.js"],"ModeToggle"]
4:["slug","counter-system","d"]
10:T843,M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z0:["s4QmuAZ9c5Z5K9JHj1q-z",[[["",{"children":["blog",{"children":[["slug","counter-system","d"],{"children":["__PAGE__?{\"slug\":\"counter-system\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","counter-system","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$","$L6",null,{"id":"clarity-script","strategy":"afterInteractive","dangerouslySetInnerHTML":{"__html":"\n          (function(c,l,a,r,i,t,y){\n                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n                t=l.createElement(r);t.async=1;t.src=\"https://www.clarity.ms/tag/\"+i;\n                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n            })(window, document, \"clarity\", \"script\", \"r4lbqo7ojt\");\n          "}}]}],["$","body",null,{"className":"min-h-screen bg-background font-sans antialiased max-w-2xl mx-auto py-12 sm:py-24 px-6 __variable_8767a9","children":["$","$L7",null,{"attribute":"class","defaultTheme":"light","children":["$","$L8",null,{"delayDuration":0,"children":[["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}],["$","div",null,{"className":"pointer-events-none fixed inset-x-0 bottom-0 z-30 mx-auto mb-4 flex origin-bottom h-full max-h-14","children":[["$","div",null,{"className":"fixed bottom-0 inset-x-0 h-16 w-full bg-background to-transparent backdrop-blur-lg [-webkit-mask-image:linear-gradient(to_top,black,transparent)] dark:bg-background"}],["$","$L9",null,{"className":"z-50 pointer-events-auto relative mx-auto flex min-h-full h-full items-center px-1 bg-background [box-shadow:0_0_0_1px_rgba(0,0,0,.03),0_2px_4px_rgba(0,0,0,.05),0_12px_24px_rgba(0,0,0,.05)] transform-gpu dark:[border:1px_solid_rgba(255,255,255,.1)] dark:[box-shadow:0_-20px_80px_-20px_#ffffff1f_inset] ","children":[[["$","$La","/",{"children":["$","$Lb",null,{"children":[["$","$Lc",null,{"asChild":true,"children":["$","$Ld",null,{"href":"/","className":"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground rounded-full size-12","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-home size-4","children":[["$","path","y5dka4",{"d":"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["$","polyline","e2us08",{"points":"9 22 9 12 15 12 15 22"}],"$undefined"]}]}]}],["$","$Le",null,{"children":["$","p",null,{"children":"Home"}]}]]}]}],["$","$La","/blog",{"children":["$","$Lb",null,{"children":[["$","$Lc",null,{"asChild":true,"children":["$","$Ld",null,{"href":"/blog","className":"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground rounded-full size-12","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-notebook size-4","children":[["$","path","aawbzj",{"d":"M2 6h4"}],["$","path","l0bgd4",{"d":"M2 10h4"}],["$","path","1gsvsf",{"d":"M2 14h4"}],["$","path","1bu2t1",{"d":"M2 18h4"}],["$","rect","1nb95v",{"width":"16","height":"20","x":"4","y":"2","rx":"2"}],["$","path","rotuqe",{"d":"M16 2v20"}],"$undefined"]}]}]}],["$","$Le",null,{"children":["$","p",null,{"children":"Blog"}]}]]}]}]],["$","$Lf",null,{"orientation":"vertical","className":"h-full"}],[["$","$La","GitHub",{"children":["$","$Lb",null,{"children":[["$","$Lc",null,{"asChild":true,"children":["$","$Ld",null,{"href":"https://github.com/ats1999","className":"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground rounded-full size-12","target":"_blank","children":["$","svg",null,{"viewBox":"0 0 438.549 438.549","className":"size-4","children":["$","path",null,{"fill":"currentColor","d":"$10"}]}]}]}],["$","$Le",null,{"children":["$","p",null,{"children":"GitHub"}]}]]}]}],["$","$La","LinkedIn",{"children":["$","$Lb",null,{"children":[["$","$Lc",null,{"asChild":true,"children":["$","$Ld",null,{"href":"https://www.linkedin.com/in/ats1999","className":"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground rounded-full size-12","target":"_blank","children":["$","svg",null,{"viewBox":"0 0 24 24","xmlns":"http://www.w3.org/2000/svg","className":"size-4","children":[["$","title",null,{"children":"LinkedIn"}],["$","path",null,{"fill":"currentColor","d":"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}]]}]}]}],["$","$Le",null,{"children":["$","p",null,{"children":"LinkedIn"}]}]]}]}],["$","$La","lc",{"children":["$","$Lb",null,{"children":[["$","$Lc",null,{"asChild":true,"children":["$","$Ld",null,{"href":"https://leetcode.com/u/dsabyte/","className":"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground rounded-full size-12","target":"_blank","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","enableBackground":"new 0 0 24 24","viewBox":"0 0 24 24","id":"leetcode","width":"25px","children":[["$","path",null,{"fill":"#B3B1B0","d":"M22,14.355c0-0.742-0.564-1.345-1.26-1.345H10.676c-0.696,0-1.26,0.604-1.26,1.345c0,0.742,0.564,1.346,1.26,1.346H20.74C21.436,15.701,22,15.098,22,14.355L22,14.355z"}],["$","path",null,{"fill":"#9C9A99","d":"M22,14.355H9.416l0,0c0,0.742,0.564,1.346,1.26,1.346H20.74C21.436,15.701,22,15.098,22,14.355L22,14.355L22,14.355z"}],["$","path",null,{"fill":"#C98F1B","d":"M4.781,14.355H4.735c0.015,0.736,0.315,1.474,0.897,2.068c1.309,1.336,2.639,2.65,3.96,3.974l0.204,0.198c0.469,0.303,0.473,1.25,0.182,1.671c-0.31,0.449-0.71,0.729-1.271,0.729c-0.02,0-0.041,0-0.062-0.001c-0.2-0.007-0.364-0.087-0.53-0.181c-0.035-0.02-0.07-0.04-0.104-0.062C8.963,23.593,10.221,24,11.599,24c1.484,0,2.83-0.511,3.804-1.494l2.589-2.637c0.51-0.514,0.492-1.365-0.039-1.9c-0.272-0.275-0.627-0.413-0.978-0.413c-0.332,0-0.659,0.124-0.906,0.374l-2.676,2.607c-0.462,0.467-1.102,0.662-1.808,0.662c-0.706,0-1.346-0.195-1.81-0.662l-4.297-4.363C5.024,15.716,4.79,15.052,4.781,14.355L4.781,14.355z"}],["$","path",null,{"fill":"#060605","d":"M4.735,14.355H1.918c0.006,1.485,0.595,2.945,1.739,4.101c1.324,1.336,2.657,2.663,3.984,3.996c0.113,0.114,0.236,0.215,0.37,0.3c0.034,0.021,0.068,0.042,0.104,0.062c0.166,0.094,0.33,0.174,0.53,0.181c0.021,0.001,0.041,0.001,0.062,0.001c0.561,0,0.961-0.28,1.271-0.729c0.291-0.421,0.286-1.368-0.182-1.671l-0.204-0.198c-1.321-1.324-2.652-2.638-3.96-3.974C5.05,15.83,4.75,15.091,4.735,14.355L4.735,14.355z"}],["$","path",null,{"fill":"#E7A41F","d":"M3.483,18.187l4.312,4.361C8.767,23.527,10.113,24,11.599,24c1.484,0,2.83-0.511,3.804-1.494l2.589-2.637c0.51-0.514,0.492-1.365-0.039-1.9c-0.53-0.535-1.375-0.553-1.884-0.039l-2.676,2.607c-0.462,0.467-1.102,0.662-1.808,0.662c-0.706,0-1.346-0.195-1.81-0.662l-4.297-4.363c-0.463-0.468-0.697-1.15-0.697-1.863c0-0.713,0.234-1.357,0.697-1.824l4.285-4.38c0.464-0.468,1.116-0.645,1.822-0.645c0.707,0,1.347,0.195,1.808,0.662l2.676,2.606c0.51,0.515,1.354,0.497,1.885-0.038c0.531-0.536,0.549-1.386,0.039-1.901l-2.589-2.635c-0.648-0.646-1.471-1.116-2.392-1.33l-0.033-0.006l2.447-2.504c0.512-0.514,0.494-1.366-0.037-1.901c-0.53-0.535-1.376-0.553-1.887-0.038L3.483,10.476C2.509,11.458,2,12.814,2,14.312S2.509,17.206,3.483,18.187L3.483,18.187z"}],["$","path",null,{"fill":"#070706","d":"M8.115,22.814c-0.176-0.097-0.332-0.219-0.474-0.361c-1.327-1.333-2.66-2.66-3.984-3.996c-1.988-2.009-2.302-4.936-0.785-7.32c0.234-0.37,0.529-0.694,0.839-1.004c3.208-3.214,6.415-6.43,9.623-9.644c0.625-0.626,1.497-0.652,2.079-0.066c0.559,0.562,0.527,1.455-0.077,2.065c-0.77,0.776-1.54,1.55-2.31,2.325c-0.041,0.122-0.14,0.2-0.226,0.287c-0.863,0.877-1.751,1.73-2.6,2.619c-0.111,0.115-0.262,0.186-0.372,0.305c-1.423,1.423-2.862,2.83-4.265,4.272c-1.136,1.167-1.096,2.938,0.068,4.128c1.309,1.336,2.639,2.65,3.96,3.974l0.204,0.198c0.469,0.303,0.473,1.25,0.182,1.671c-0.321,0.466-0.739,0.75-1.333,0.728C8.445,22.987,8.281,22.907,8.115,22.814L8.115,22.814z"}],["$","path",null,{"fill":"#EAB03C","d":"M13.021,4.826c-0.044,0.115-0.138,0.19-0.221,0.273c-0.863,0.877-1.751,1.73-2.6,2.619c-0.111,0.115-0.262,0.186-0.372,0.305c-1.423,1.423-2.862,2.83-4.265,4.272c-0.58,0.596-0.853,1.349-0.827,2.102h0.046C4.781,14.368,4.78,14.339,4.78,14.31c0-0.713,0.234-1.357,0.697-1.824l4.285-4.38c0.464-0.468,1.116-0.645,1.822-0.645c0.707,0,1.347,0.195,1.808,0.662l2.676,2.606c0.248,0.251,0.576,0.375,0.908,0.375c0.35,0,0.705-0.138,0.977-0.413c0.531-0.536,0.549-1.386,0.039-1.901l-2.589-2.635C14.757,5.51,13.938,5.041,13.021,4.826L13.021,4.826z M14.4,0c-0.194,0.001-0.386,0.045-0.562,0.132C14.021,0.049,14.212,0.005,14.4,0L14.4,0z"}],["$","path",null,{"fill":"#272726","d":"M14.432,0c-0.01,0-0.021,0-0.031,0c-0.189,0.004-0.379,0.049-0.562,0.132c-0.178,0.081-0.349,0.2-0.504,0.356c-3.208,3.214-6.416,6.43-9.623,9.644c-0.31,0.31-0.604,0.634-0.839,1.004c-0.652,1.025-0.966,2.151-0.954,3.262h2.818c-0.026-0.753,0.248-1.506,0.827-2.102c1.402-1.442,2.842-2.849,4.265-4.272c0.111-0.119,0.261-0.189,0.372-0.305c0.849-0.889,1.737-1.742,2.6-2.619c0.083-0.084,0.177-0.159,0.221-0.273c0.002-0.005,0.003-0.009,0.005-0.014c0.77-0.775,1.54-1.549,2.31-2.325c0.604-0.61,0.637-1.503,0.077-2.065C15.133,0.14,14.786,0,14.432,0L14.432,0z"}]]}]}]}],["$","$Le",null,{"children":["$","p",null,{"children":"lc"}]}]]}]}]],["$","$Lf",null,{"orientation":"vertical","className":"h-full py-2"}],["$","$La",null,{"children":["$","$Lb",null,{"children":[["$","$Lc",null,{"asChild":true,"children":["$","$L11",null,{}]}],["$","$Le",null,{"children":["$","p",null,{"children":"Theme"}]}]]}]}]]}]]}]]}]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"https://ats1999.github.io/_next/static/css/addbc7b7d64ef2e4.css","precedence":"next","crossOrigin":"$undefined"}]],"$L12"]]]]
13:"$Sreact.suspense"
14:T10c9,<h2>Using auto increment (MySql/PostgreSQL)</h2>
<ul>
<li>Counters are scoped to table</li>
<li>We can not use different counter for different group</li>
</ul>
<h2>Using sequence in PostgreSQL</h2>
<ul>
<li>They are database level objects, so every group we can create new sequence</li>
<li>PostgreSQL sequence is large in size when compared to counter. Every PostgreSQL sequence object takes around ~8KB.</li>
</ul>
<h2>Using counter table (PostgreSQL/MongoDB)</h2>
<p>We can use counter table to solve above problems.</p>
<ul>
<li>Counter table is simple to build and use</li>
<li>It is storage efficient, it takes only few bytes per counter as compared to ~8KB in PostgreSQL sequence</li>
<li>It works for group scoped counter, for every group a new row can be inserted</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="txt" data-theme="min-light min-dark"><code data-language="txt" data-theme="min-light min-dark" style="display: grid;"><span data-line=""><span>    Column     |            Type             | Collation | Nullable | Default</span></span>
<span data-line=""><span>---------------+-----------------------------+-----------+----------+---------</span></span>
<span data-line=""><span> name          | character varying(255)      |           | not null |</span></span>
<span data-line=""><span> value         | bigint                      |           | not null |</span></span></code></pre></figure>
<blockquote>
<p>Query to update the counter and return updated value in one round trip</p>
</blockquote>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="sql" data-theme="min-light min-dark"><code data-language="sql" data-theme="min-light min-dark" style="display: grid;"><span data-line=""><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583">UPDATE</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583"> counter</span></span>
<span data-line=""><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583">SET</span></span>
<span data-line=""><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583">  value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583"> value+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F8F8F8">1</span></span>
<span data-line=""><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583">WHERE</span></span>
<span data-line=""><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583">  name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0"> :counterName</span></span>
<span data-line=""><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0">RETURNING </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583">value</span></span></code></pre></figure>
<blockquote>
<p><strong>Note</strong>: In MongoDB, you can use a dedicated document for each counter similar to dedicated row in PostgreSQL/MySql</p>
</blockquote>
<h2>Scaling Challanges</h2>
<blockquote>
<p>You must be a very big company(like google, microsoft) before you hit the limit.</p>
</blockquote>
<p>Scaling above counter system very simple, let's start from zero and scale it to handle large number of requests.</p>
<h3>Scaling: Counter table in the same database</h3>
<p>If you are not an enterprice or huge tech gaint(google/amazon), you can start with keeping the counter table along with other tables in database.</p>
<h3>Scaling: Moving counter table to a dedicated database</h3>
<p>If you hit the limit, and counter table is frequently used. You can move counter table to a dedicated database. It'll allows you to scale up/down your counter service as per your need. For most of the companies, vertical scaling should be enough.</p>
<h3>Scaling: Using sharding</h3>
<p>If you hit the limit of vertical scale, you can use sharding. Keep different counters on different databases. This way, you'll be able to achieve ultimate scale.</p>
<h3>Scaling: beyond sharding</h3>
<p>Congratulations üëè</p>
<h2>Summary</h2>
<p>A lightweight, scalable, and durable group-scoped counter system can be built using a simple counter table or document in PostgreSQL/MongoDB, avoiding the limitations of auto-increment and heavy database sequences.</p>2:["$","section",null,{"id":"blog","className":"mb-12","children":[["$","script",null,{"type":"application/ld+json","suppressHydrationWarning":true,"dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"A simple group scoped counter system (PostgreSQL/MongoDB/MySql)\",\"datePublished\":\"2024-06-18\",\"dateModified\":\"2024-06-18\",\"description\":\"Id of every new task in JIRA board starts with 1 and increments by 1 for each new task. There isn‚Äôt any database that supports group scoped auto increment. Let's explore some solutions in this blog.\",\"image\":\"https://ats1999.github.io/og?title=A simple group scoped counter system (PostgreSQL/MongoDB/MySql)\",\"url\":\"https://ats1999.github.io/blog/counter-system\",\"author\":{\"@type\":\"Person\",\"name\":\"Rahul Kumar\"}}"}}],["$","h1",null,{"className":"title font-medium text-2xl tracking-tighter max-w-[650px]","children":"A simple group scoped counter system (PostgreSQL/MongoDB/MySql)"}],["$","div",null,{"className":"flex justify-between items-center mt-2 mb-8 text-sm max-w-[650px]","children":["$","$13",null,{"fallback":["$","p",null,{"className":"h-5"}],"children":["$","p",null,{"className":"text-sm text-neutral-600 dark:text-neutral-400","children":"June 18, 2024 (10mo ago)"}]}]}],["$","div",null,{"className":"prose dark:prose-invert mb-10","children":"Id of every new task in JIRA board starts with 1 and increments by 1 for each new task. There isn‚Äôt any database that supports group scoped auto increment. Let's explore some solutions in this blog."}],["$","article",null,{"className":"prose dark:prose-invert","dangerouslySetInnerHTML":{"__html":"$14"}}]]}]
12:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"A simple group scoped counter system (PostgreSQL/MongoDB/MySql) | Rahul Kumar"}],["$","meta","3",{"name":"description","content":"Id of every new task in JIRA board starts with 1 and increments by 1 for each new task. There isn‚Äôt any database that supports group scoped auto increment. Let's explore some solutions in this blog."}],["$","meta","4",{"name":"robots","content":"index, follow"}],["$","meta","5",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","6",{"property":"og:title","content":"A simple group scoped counter system (PostgreSQL/MongoDB/MySql)"}],["$","meta","7",{"property":"og:description","content":"Id of every new task in JIRA board starts with 1 and increments by 1 for each new task. There isn‚Äôt any database that supports group scoped auto increment. Let's explore some solutions in this blog."}],["$","meta","8",{"property":"og:url","content":"https://ats1999.github.io/blog/counter-system/"}],["$","meta","9",{"property":"og:image","content":"https://ats1999.github.io/og?title=A%20simple%20group%20scoped%20counter%20system%20(PostgreSQL/MongoDB/MySql)"}],["$","meta","10",{"property":"og:type","content":"article"}],["$","meta","11",{"property":"article:published_time","content":"2024-06-18"}],["$","meta","12",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","13",{"name":"twitter:title","content":"A simple group scoped counter system (PostgreSQL/MongoDB/MySql)"}],["$","meta","14",{"name":"twitter:description","content":"Id of every new task in JIRA board starts with 1 and increments by 1 for each new task. There isn‚Äôt any database that supports group scoped auto increment. Let's explore some solutions in this blog."}],["$","meta","15",{"name":"twitter:image","content":"https://ats1999.github.io/og?title=A%20simple%20group%20scoped%20counter%20system%20(PostgreSQL/MongoDB/MySql)"}],["$","link","16",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","meta","17",{"name":"next-size-adjust"}]]
1:null
